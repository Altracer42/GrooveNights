<ActorFrame InitCommand="%function(self)
			SetVariablesFor('ScreenPlayerOptions');
			self:sleep(0.1);
			if GAMESTATE:GetEnv('Vibrate') == 'On' then
				self:vibrate();
				end
			end"> <children>
	

		<ActorFrame InitCommand="x,409;y,222;">
			<children>
	<!--Total PlayTime-->
			<BitmapText
				Text=""
				File="_eurostile blue glow"
				Condition="PlayTimeEnabled()"
				InitCommand="@'diffuse,'..LabelColor()..';queuecommand,Go'"
				GoCommand="%function(self)
				self:x(-112);
				self:y(248);
				self:zoom(0.6);
				self:shadowlength(0);
				self:horizalign('Right');
					self:settext('Total PlayTime');
				self:sleep(1);
				self:diffusealpha(0.5);
				self:sleep(1);
				self:diffusealpha(1);	
				self:queuecommand('Go');
				end"
			/>
	<!--Total PlayTime Variables-->
			<BitmapText
				Text=""
				File="_eurostile blue glow"
				Condition="PlayTimeEnabled()"
				InitCommand="%function(self)  self:x(-102) self:zoom(0.6); self:shadowlength(0) self:draworder(10000); self:addy(248); self:queuecommand('Update'); self:horizalign('left'); end"
				UpdateCommand="%function(self)
				self:stoptweening();
				if gnPlaySec == nil then
					gnPlaySec = 0;
					gnPlayMin = 0;
					gnPlayHour = 0;
					end
				if gnPlaySec >= 60 then
					gnPlaySec = gnPlaySec - 60;
					gnPlayMin = gnPlayMin + 1;
					end
				if gnPlayMin >= 60 then
					gnPlayMin = gnPlayMin - 60;
					gnPlayHour = gnPlayHour + 1;
					end

				if gnPlaySec < 10 then
					gnPlaySecText = '0'..gnPlaySec
					else
					gnPlaySecText = ''..gnPlaySec
					end
				if gnPlayMin < 10 then
					gnPlayMinText = '0'..gnPlayMin
					else
					gnPlayMinText = ''..gnPlayMin
					end
				if gnPlayHour < 10 then
					gnPlayHourText = '0'..gnPlayHour
					else
					gnPlayHourText = ''..gnPlayHour
					end
					
				self:settext(gnPlayHourText..':'..gnPlayMinText..':'..gnPlaySecText);

				self:sleep(1);
				self:diffusealpha(0.5);
				self:sleep(1);
				self:diffusealpha(1);	
				self:queuecommand('Update');
				end"
			/>
	<!--Song Count-->
			<BitmapText
				Text=""
				File="_eurostile blue glow"
				Condition="PlayTimeEnabled()"
				InitCommand="%function(self)  self:x(-32) self:zoom(0.6); self:shadowlength(0) self:draworder(10000); self:addy(248); self:queuecommand('Update'); self:horizalign('left'); end"
				UpdateCommand="%function(self)
				self:stoptweening();
				if gnSongCount == nil then
					gnSongCount = 0;
					end
	
				if gnSongCount == 1 then
					self:settext('('..gnSongCount..' Song)');
					else
					self:settext('('..gnSongCount..' Songs)');
					end
					
				self:sleep(1);
				self:diffusealpha(0.5);
				self:sleep(1);
				self:diffusealpha(1);	
				self:queuecommand('Update');
				end"
			/>
			</children>
		</ActorFrame>
		
	<Layer File="../ScreenOptions overlay"/>

<!--Apply Mods-->
	<Layer Type="Quad"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	InitCommand="diffusealpha,0;hibernate,0.01;queuecommand,Mods;"
	ModsCommand="%function(self)
		self:stoptweening();
		GAMESTATE:ApplyGameCommand('mod, 1x',1);
		if addModP1 < 4 then
			if setModP1 < 50 then
				GAMESTATE:ApplyGameCommand('mod,'..setModP1+addModP1..'x',1);
				else
				GAMESTATE:ApplyGameCommand('mod,c'..setModP1,1);
				end
			else
			if setModP1 < 50 then
				GAMESTATE:ApplyGameCommand('mod,'..setModP1..'x',1);
				else
				GAMESTATE:ApplyGameCommand('mod,c'..setModP1+addModP1,1);
				end
			end
		hideBGp1 = 0;
		for getModP1=0, 100, 5 do
			if GAMESTATE:PlayerIsUsingModifier(PLAYER_1,''..(getModP1/100)..'% cross') then 
				hideBGp1 = getModP1;
				break
				end
			end
		self:sleep(0.1);
		self:queuecommand('Mods');
	end"
	/>

	<Layer Type="Quad"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	InitCommand="diffusealpha,0;hibernate,0.01;queuecommand,Mods;"
	ModsCommand="%function(self)
		self:stoptweening();
		GAMESTATE:ApplyGameCommand('mod, 1x',2);
		if addModP2 < 4 then
			if setModP2 < 50 then
				GAMESTATE:ApplyGameCommand('mod,'..setModP2+addModP2..'x',2);
				else
				GAMESTATE:ApplyGameCommand('mod,c'..setModP2,2);
				end
			else
			if setModP2 < 50 then
				GAMESTATE:ApplyGameCommand('mod,'..setModP2..'x',2);
				else
				GAMESTATE:ApplyGameCommand('mod,c'..setModP2+addModP2,2);
				end
			end
		hideBGp2 = 0;
		for getModP2=0, 100, 5 do
			if GAMESTATE:PlayerIsUsingModifier(PLAYER_2,''..(getModP2/100)..'% cross') then 
				hideBGp2 = getModP2;
				break
				end
			end
		self:sleep(0.1);
		self:queuecommand('Mods');
	end"
	/>
<!--Timer Recorder-->
	<Layer Type="Quad"
	InitCommand="diffusealpha,0;sleep,0.01;queuecommand,CountDown;"
	CountDownCommand="%function(self)
            self:stoptweening();
            if PREFSMAN:GetPreference('MenuTimer') == 0 then
                gnScreenPlayerOptionsTimer = 9999;
                gnScreenSelectMusicTimer = 9999;
            end
            
            gnScreenPlayerOptionsTimer = gnScreenPlayerOptionsTimer - 0.1;

            self:sleep(0.1);
            self:queuecommand('CountDown');
            end"
	/>

		<BitmapText
			Text=""
			File="_eurostile blue glow"
			InitCommand="%function(self)  self:x(self:GetWidth()/2) self:shadowlength(0) self:addy(-300); self:queuecommand('loop'); end"
			OnCommand="Zoom,1;DiffuseAlpha,0;"
		/>
<!--Find the Rate Mod-->
		<BitmapText
			Text="@GetRateMod()"
			File="_eurostile blue glow"
			InitCommand="%function(self)  self:x(self:GetWidth()/2) self:shadowlength(0) self:addy(-300); self:queuecommand('loop'); end"
			OnCommand="Zoom,1;DiffuseAlpha,0;"
			loopCommand="%function(self)
			getRate = 0;
			setRate = 0;
			self:diffusealpha(0);
			self:settext(GetRateMod());
			self:stoptweening();
			self:sleep(0.1);
			self:queuecommand('loop');
			end"
		/>
<!--Current Song-->
		<BitmapText
			Text=""
			Condition="not GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			OnCommand="horizalign,center;maxwidth,450;shadowlength,0;zoom,0.75;"
			
			InitCommand="%function(self)
			self:settext(GAMESTATE:GetCurrentSong():GetDisplayMainTitle());
			self:x(SCREEN_CENTER_X);
			self:y(SCREEN_CENTER_Y-172);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			OnCommand="horizalign,center;maxwidth,240;shadowlength,0;zoom,0.75;"
			
			InitCommand="%function(self)
			self:settext(GAMESTATE:GetCurrentCourse():GetDisplayFullTitle());
			self:x(SCREEN_CENTER_X);
			self:y(SCREEN_CENTER_Y-172);
			end"
		/>
		
		<BitmapText
			Text=""
			File="_eurostile blue glow"
			Condition="not GAMESTATE:IsCourseMode()"
			OnCommand="horizalign,center;shadowlength,0;zoom,0.5;"
			
			InitCommand="%function(self)
			self:settext(GAMESTATE:GetCurrentSong():GetDisplayArtist());
			self:x(SCREEN_CENTER_X);
			self:y(SCREEN_CENTER_Y-150-8);
			self:maxwidth(350);
			end"
		/>
		
	<!--Player Underframes-->
			<Layer
			File="../../Graphics/ScreenPlayerOptions playerunderframe"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			InitCommand="%function(self)
			self:hidden(1); self:x(SCREEN_CENTER_X-267); self:y(SCREEN_CENTER_Y-114);self:draworder(-100);
			end"
		/>	
			<Layer
			File="../../Graphics/ScreenPlayerOptions playerunderframe"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			InitCommand="%function(self)
			self:hidden(1); self:x(SCREEN_CENTER_X+267); self:y(SCREEN_CENTER_Y-114);self:draworder(-100);
			end"
		/>	
		
		
		
		
		
		
<ActorFrame InitCommand="x,444;y,222;"><children>		
<ActorFrame InitCommand="x,-219;y,128;">
<children>
	<Layer File="../../Graphics/PaneDisplay p1 B.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	OnCommand="@'diffuse,'..BackgroundColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-194); 
			self:diffusealpha(1); 
			self:draworder(1000);
			end"	
	/>
	
	<Layer File="../../Graphics/PaneDisplay p1 F.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	OnCommand="@'diffuse,'..FrameColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-194); 
			self:diffusealpha(1); 
			self:draworder(1000);
			end"	
	/>
	
	<Layer File="../../Graphics/PaneDisplay under.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	OnCommand="@'diffuse,'..BackgroundColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-194); 
			self:diffusealpha(1); 
			self:draworder(-1000);
			end"	
	/>
	
</children>
</ActorFrame>
	
	
	
<ActorFrame InitCommand="x,100;y,29;">
<children>

	<Layer File="../../Graphics/PaneDisplay p1 B.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	OnCommand="@'diffuse,'..BackgroundColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-95); 
			self:diffusealpha(1); 
			self:draworder(1000);
			end"	
	/>
	
	<Layer File="../../Graphics/PaneDisplay p1 F.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	OnCommand="@'diffuse,'..FrameColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-95); 
			self:diffusealpha(1); 
			self:draworder(1000);
			end"	
	/>
	
	<Layer File="../../Graphics/PaneDisplay under.png"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	OnCommand="@'diffuse,'..BackgroundColor()..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-388*gnZoomRatio+VideoHorizontal()-(PixelCorrection()*7)); 
			self:y(SCREEN_CENTER_Y-95); 
			self:diffusealpha(1); 
			self:draworder(-1000);
			end"	
	/>

</children>
</ActorFrame>

<!--Player 1's Pane-->
<ActorFrame InitCommand="x,-219;y,128;">
<children>
<!--Avatar-->
	<Layer File="../../Graphics/avatars/p1avatar"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-197); self:diffusealpha(1); self:zoom(0);
			a1Width = self:GetWidth(); 
			a1Height = self:GetHeight(); 
			if a1Width >= a1Height then 
				self:zoomtowidth(68); 
				self:zoomtoheight(68-1/68); 
				else  
				self:scaletoclipped(68,68); 
				end 
			self:diffusealpha(0);
			self:sleep(0.4);
			self:decelerate(0.4);
			self:diffusealpha(1);
			self:draworder(5); 
			end"	
	/>
	
	<!-- Card Name-->
	<BitmapText
	Font="_eurostile normal"
	Condition="PROFILEMAN:IsPersistentProfile(PLAYER_1)"
	Text="@ScreenEndingGetDisplayName(PLAYER_1)"
	InitCommand="@'horizalign,center;draworder,1000;x,SCREEN_CENTER_X-503-CourseHorizontal()+(0*HorizontalRecovery());y,SCREEN_CENTER_Y-177;zoom,0.5;shadowlength,0;maxwidth,120;Diffuse,'..PlayerColor(PLAYER_1)..';diffusealpha,0;queuecommand,fadecheck;'"
	fadecheckcommand="%function(self)
		if gnP1ShowName == nil then
		gnP1ShowName = 0;
		end
		
		if gnP1ShowName == 1 then
		self:queuecommand('fadeokay');
		end
	end"
	fadeokaycommand="sleep,0.4;linear,0.3;diffusealpha,0.8;"
	/>
	
	<Layer File="@'../../Graphics/NoAvatar/'..getNoAvatar(PLAYER_1)"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
	NoAvatarCommand="@'diffuse,'..PlayerColor(PLAYER_1)..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-198); self:diffusealpha(1); self:zoom(0);
			a1Width = self:GetWidth(); 
			a1Height = self:GetHeight(); 
			if a1Width >= a1Height then 
				self:zoomtowidth(68); 
				self:zoomtoheight(68-1/68); 
				else  
				self:scaletoclipped(68,68); 
				end
			self:diffusealpha(0);
			self:sleep(0.1);
			self:diffusealpha(1);
			self:draworder(3);
			if getNoAvatar(PLAYER_1) == 'p1noavatar.png' then
				self:queuecommand('NoAvatar');
				end
			end"	
	/>
	<Layer File="../AvatarFrame B.png"
	Condition="GAMESTATE:IsHumanPlayer(PLAYER_1)"
	OnCommand="%function(self)
	self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-197);
	end"
	InitCommand="@'draworder,3;diffuse,'..BackgroundColor()..';zoomx,1.01;zoomy,0.975;'"
	/>
	<Layer File="../AvatarFrame.png"
	Condition="GAMESTATE:IsHumanPlayer(PLAYER_1)"
	OnCommand="%function(self)
	self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-197);
	end"
	InitCommand="@'draworder,3;diffuse,'..FrameColor()..';zoomx,0.95;zoomy,0.95;'"
	/>
	
	
	

</children>
</ActorFrame>

<!--Player 2's Pane-->
<ActorFrame InitCommand="x,100;y,29;">
<children>
<!--Avatar-->
	<Layer File="../../Graphics/avatars/p2avatar"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-98); self:diffusealpha(1); self:zoom(0);
			a2Width = self:GetWidth(); 
			a2Height = self:GetHeight();
			if a2Width >= a2Height then 
				self:zoomtowidth(68); 
				self:zoomtoheight(68-1/68); 
				else  
				self:scaletoclipped(68,68); 
				end 
			self:diffusealpha(0);
			self:sleep(0.4);
			self:decelerate(0.4);
			self:diffusealpha(1);
			self:draworder(5); 
			end"	
	/>
	
	
	<!-- Card Name-->
	<BitmapText
	Font="_eurostile normal"
	Condition="PROFILEMAN:IsPersistentProfile(PLAYER_2)"
	Text="@ScreenEndingGetDisplayName(PLAYER_2)"
	InitCommand="@'horizalign,center;draworder,1000;x,SCREEN_CENTER_X-503-CourseHorizontal()+(0*HorizontalRecovery());y,SCREEN_CENTER_Y-77;zoom,0.5;shadowlength,0;maxwidth,120;Diffuse,'..PlayerColor(PLAYER_2)..';diffusealpha,0;queuecommand,fadecheck;'"
	fadecheckcommand="%function(self)
		if gnP2ShowName == nil then
		gnP2ShowName = 0;
		end
		
		if gnP2ShowName == 1 then
		self:queuecommand('fadeokay');
		end
	end"
	fadeokaycommand="sleep,0.4;linear,0.3;diffusealpha,0.8;"
	/>
	<Layer File="@'../../Graphics/NoAvatar/'..getNoAvatar(PLAYER_2)"
	Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
	NoAvatarCommand="@'diffuse,'..PlayerColor(PLAYER_2)..';'"
	InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-98); self:diffusealpha(1); self:zoom(0);
			a2Width = self:GetWidth(); 
			a2Height = self:GetHeight();
			if a2Width >= a2Height then 
				self:zoomtowidth(68); 
				self:zoomtoheight(68-1/68); 
				else  
				self:scaletoclipped(68,68); 
				end
			self:diffusealpha(0);
			self:sleep(0.1);
			self:diffusealpha(1);
			self:draworder(3);
			if getNoAvatar(PLAYER_2) == 'p2noavatar.png' then
				self:queuecommand('NoAvatar');
				end
			end"	
	/>
	<Layer File="../AvatarFrame B.png"
	Condition="GAMESTATE:IsHumanPlayer(PLAYER_2)"
	OnCommand="%function(self)
	self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-98);
	end"
	InitCommand="@'draworder,3;diffuse,'..BackgroundColor()..';zoomx,1.01;zoomy,0.975;'"
	/>
	<Layer File="../AvatarFrame.png"
	Condition="GAMESTATE:IsHumanPlayer(PLAYER_2)"
	OnCommand="%function(self)
	self:x(SCREEN_CENTER_X-504-CourseHorizontal()+(0*HorizontalRecovery())); self:y(SCREEN_CENTER_Y-98);
	end"
	InitCommand="@'draworder,3;diffuse,'..FrameColor()..';zoomx,0.95;zoomy,0.95;'"
	/>
</children>
</ActorFrame>

</children></ActorFrame>




		
<ActorFrame InitCommand="y,12;"><children>
	<!--Player 1's BPM & Speed Display-->
		<BitmapText
			Text="BPM:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"
			
			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-240);
			self:y(SCREEN_CENTER_Y+118);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			InitCommand="%function(self) self:stoptweening(); self:zoom(0.5); self:shadowlength(0); self:x(SCREEN_CENTER_X-200); self:y(SCREEN_CENTER_Y+118); self:maxwidth(140); end"
			SpeedModChangedMessageCommand="queuecommand,Update"
			RateModChangedMessageCommand="queuecommand,Update"
			UpdateCommand="%function(self) self:settext(DisplayBPM(1, true, false)) end"
			OnCommand="horizalign,left;zoom,0.5;"			
		/>
		<BitmapText
			Text="Speed:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"

			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-240);
			self:y(SCREEN_CENTER_Y+134);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			InitCommand="%function(self) self:zoom(0.5); self:shadowlength(0); self:x(SCREEN_CENTER_X-200); self:y(SCREEN_CENTER_Y+134); p1Distance=0; end"
			OnCommand="horizalign,left;zoom,0.5;queuecommand,loop;"
			SpeedModChangedMessageCommand="queuecommand,Update"
			RateModChangedMessageCommand="queuecommand,Update"
			UpdateCommand="%function(self) self:settext(DisplayBPM(1, true, true)) end"			
			
			loopCommand="%function(self)
			getModP1 = 0;
			if setModP1 == nil then
				setModP1 = 0;
				end
			if modStyleP1 == nil then
				modStyleP1 = 0;
				end
			if addModP1 == nil then
				addModP1 = 0;
				end
			if curRate == nil then
				curRate = 1;
				end
			if modStyleP1 == 1 then
				if addModP1 <= 1 then
					self:settext(''..math.ceil((setModP1+addModP1)*highBPM*curRate)..'');
					gnP1Speed = setModP1+addModP1..'X';
					gnBlazeP1 = math.ceil((setModP1+addModP1)*highBPM*curRate)
					else
					self:settext(''..math.ceil((setModP1)*highBPM*curRate)..'');
					gnP1Speed = setModP1..'X';
					gnBlazeP1 = math.ceil((setModP1)*highBPM*curRate)
					end
				end
			if modStyleP1 == 2 then
				if addModP1 > 1 then
					self:settext(''..math.ceil((setModP1+addModP1) * curRate)..'');
					gnP1Speed = 'C'..setModP1+addModP1;
					gnBlazeP1 = math.ceil((setModP1+addModP1) * curRate)
					else
					self:settext(''..math.ceil((setModP1) * curRate)..'');
					gnP1Speed = 'C'..setModP1;
					gnBlazeP1 = math.ceil((setModP1) * curRate)
					end
				end
			end"
		/>
<!--Step Artists P1-->
		<BitmapText
			Text="Steps:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1) and not GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			InitCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';queuecommand,Go'"
			GoCommand="%function(self)
			self:x(SCREEN_CENTER_X-240);
			self:y(SCREEN_CENTER_Y+150);
			end"
		/>
		<BitmapText
			Text="Unknown"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1) and not GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			InitCommand="%function(self)
			self:horizalign('left');
			self:shadowlength(0);
			self:zoom(0.5);
			self:x(SCREEN_CENTER_X-200);
			self:y(SCREEN_CENTER_Y+150);
			self:queuecommand('Update');
			end"
			UpdateCommand="%function(self) self:stoptweening(); self:settext(GAMESTATE:GetCurrentSteps(PLAYER_1):GetDescription()); self:sleep(0.1); self:queuecommand('Update'); end"

		/>

<!-- Determine Song Length-->
		<BitmapText
			Text="Length:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"

			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X-240);
			self:y(SCREEN_CENTER_Y+166);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			File="_eurostile blue glow"
			InitCommand="%function(self)  self:horizalign('left'); self:shadowlength(0); self:zoom(0.5); self:x(SCREEN_CENTER_X-200); self:y(SCREEN_CENTER_Y+166); self:queuecommand('loop'); end"
			loopCommand="%function(self)
			self:stoptweening();
			if curRate ~= 1 then self:settext(gnSongLength..' (x'..curRate..' Music Rate)'); else self:settext(gnSongLength); end
			self:sleep(0.1);
			self:queuecommand('loop');
			end"
		/>
	<!--Player 2's BPM & Speed Display-->
		<BitmapText
			Text="BPM:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"
			
			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X+79);
			self:y(SCREEN_CENTER_Y+118);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			InitCommand="%function(self) self:stoptweening(); self:zoom(0.5); self:shadowlength(0); self:x(SCREEN_CENTER_X+119); self:y(SCREEN_CENTER_Y+118); self:maxwidth(140); end"
			OnCommand="horizalign,left;zoom,0.5;"			
			SpeedModChangedMessageCommand="queuecommand,Update"
			RateModChangedMessageCommand="queuecommand,Update"
			UpdateCommand="%function(self) self:settext(DisplayBPM(2, true, false)) end"
		/>
		<BitmapText
			Text="Speed:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"
			
			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X+79);
			self:y(SCREEN_CENTER_Y+134);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			InitCommand="%function(self)  self:zoom(0.5); self:shadowlength(0); self:x(SCREEN_CENTER_X+119); self:y(SCREEN_CENTER_Y+134); end"
			OnCommand="horizalign,left;zoom,0.5;queuecommand,loop;"
			SpeedModChangedMessageCommand="queuecommand,Update"
			RateModChangedMessageCommand="queuecommand,Update"
			UpdateCommand="%function(self) self:settext(DisplayBPM(2, true, true)) end"			
			
			loopCommand="%function(self)
			getModP2 = 0;
			if setModP2 == nil then
				setModP2 = 0;
				end
			if modStyleP2 == nil then
				modStyleP2 = 0;
				end
			if addModP2 == nil then
				addModP2 = 0;
				end
			if curRate == nil then
				curRate = 1;
				end
			if modStyleP2 == 1 then
				if addModP2 <= 1 then
					self:settext(''..math.ceil((setModP2+addModP2)*highBPM*curRate)..'');
					gnP2Speed = setModP2+addModP2..'X';
					gnBlazeP2 = math.ceil((setModP2+addModP2)*highBPM*curRate)
					else
					self:settext(''..math.ceil((setModP2)*highBPM*curRate)..'');
					gnP2Speed = setModP2..'X';
					gnBlazeP2 = math.ceil((setModP2)*highBPM*curRate)
					end
				end
			if modStyleP2 == 2 then
				if addModP2 > 1 then
					self:settext(''..math.ceil((setModP2+addModP2) * curRate)..'');
					gnP2Speed = 'C'..setModP2+addModP2;
					gnBlazeP2 = math.ceil((setModP2+addModP2) * curRate)
					else
					self:settext(''..math.ceil((setModP2) * curRate)..'');
					gnP2Speed = 'C'..setModP2;
					gnBlazeP2 = math.ceil((setModP2) * curRate)
					end
				end
			end"
		/>

<!--Step Artists P2-->
		<BitmapText
			Text="Steps:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2) and not GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';queuecommand,Go'"
			GoCommand="%function(self)
			self:x(SCREEN_CENTER_X+79);
			self:y(SCREEN_CENTER_Y+150);
			end"
		/>
		<BitmapText
			Text="Unknown"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2) and not GAMESTATE:IsCourseMode()"
			File="_eurostile blue glow"
			InitCommand="%function(self)
			self:horizalign('left');
			self:shadowlength(0);
			self:zoom(0.5);
			self:x(SCREEN_CENTER_X+119);
			self:y(SCREEN_CENTER_Y+150);
			self:queuecommand('Update');
			end"
			UpdateCommand="%function(self) self:stoptweening(); self:settext(GAMESTATE:GetCurrentSteps(PLAYER_2):GetDescription()); self:sleep(0.1); self:queuecommand('Update'); end"
		/>
<!-- Determine Song Length-->
		<BitmapText
			Text="Length:"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			OnCommand="@'horizalign,left;shadowlength,0;zoom,0.5;diffuse,'..LabelColor()..';'"

			InitCommand="%function(self)
			self:x(SCREEN_CENTER_X+79);
			self:y(SCREEN_CENTER_Y+166);
			end"
		/>
		<BitmapText
			Text=""
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			File="_eurostile blue glow"
			InitCommand="%function(self)  self:horizalign('left'); self:shadowlength(0); self:zoom(0.5); self:x(SCREEN_CENTER_X+119); self:y(SCREEN_CENTER_Y+166); self:queuecommand('loop'); end"
			loopCommand="%function(self)
			self:stoptweening();
			if curRate ~= 1 then self:settext(gnSongLength..' (x'..curRate..' Music Rate)'); else self:settext(gnSongLength); end
			self:sleep(0.1);
			self:queuecommand('loop');
			end"
		/>
		
	<Layer
			File="../../Graphics/PlayerReady"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_1)"
			OnCommand="@'diffuseshift;EffectColor1,'..PlayerColor(PLAYER_1)..';EffectColor2,'..PlayerAltColor(PLAYER_1)..';queuecommand,Start;'"
			StartCommand="%function(self)
			self:diffusealpha(0);
			self:x(SCREEN_CENTER_X-162); self:y(SCREEN_CENTER_Y+143); self:zoom(0.1);self:draworder(5);
			self:queuecommand('loop');
			end"
			
			loopcommand="%function(self)
			self:stoptweening();
			if gnP1Ready == 1 then
				self:zoom(1); self:diffusealpha(0.9);
				if gnP1Sound == 0 then
					if gnP2Sound == 0 then
						local Path = THEME:GetPath( EC_SOUNDS, 'PlayerReady', 'sound' )
						SOUND:PlayOnce(Path)
						else
						local Path = THEME:GetPath( EC_SOUNDS, 'PlayerBothReady', 'sound' )
						SOUND:PlayOnce(Path)
						end
					gnP1Sound = 1;
					end
				else
				self:zoom(0.1); self:diffusealpha(0);
				if gnP1Sound == 1 then
					local Path = THEME:GetPath( EC_SOUNDS, 'PlayerNotReady', 'sound' )
					SOUND:PlayOnce(Path)
					gnP1Sound = 0;
					end
				end
			self:sleep(0.05);
			self:queuecommand('loop');
			end"
		/>
		
	<Layer
			File="../../Graphics/PlayerReady"
			Condition="GAMESTATE:IsPlayerEnabled(PLAYER_2)"
			OnCommand="@'diffuseshift;EffectColor1,'..PlayerColor(PLAYER_2)..';EffectColor2,'..PlayerAltColor(PLAYER_2)..';queuecommand,Start;'"
			StartCommand="%function(self)
			self:diffusealpha(0);
			self:x(SCREEN_CENTER_X+157); self:y(SCREEN_CENTER_Y+143); self:zoom(0.1);self:draworder(5);
			self:queuecommand('loop');
			end"
			
			loopcommand="%function(self)
			self:stoptweening();
			if gnP2Ready == 1 then
				self:zoom(1); self:diffusealpha(0.9);
				if gnP2Sound == 0 then
					if gnP1Sound == 0 then
						local Path = THEME:GetPath( EC_SOUNDS, 'PlayerReady', 'sound' )
						SOUND:PlayOnce(Path)
						else
						local Path = THEME:GetPath( EC_SOUNDS, 'PlayerBothReady', 'sound' )
						SOUND:PlayOnce(Path)
						end
					gnP2Sound = 1;
					end
				else
				self:zoom(0.1); self:diffusealpha(0);
				if gnP2Sound == 1 then
					local Path = THEME:GetPath( EC_SOUNDS, 'PlayerNotReady', 'sound' )
					SOUND:PlayOnce(Path)
					gnP2Sound = 0;
					end
				end
			self:sleep(0.05);
			self:queuecommand('loop');
			end"
		/>
</children></ActorFrame>
		

</children> </ActorFrame>